"use strict";import{blake3 as e}from"https://cdn.jsdelivr.net/npm/@noble/hashes@2.0.0/blake3.js/+esm";self.addEventListener("message",async n=>{const{challenge:t,difficultyBits:s,expiresAt:i}=await n.data;let r=0n;for(;;){let n=e((new TextEncoder).encode(`${r}${t}${i}`)).reduce((e,n,t)=>e|BigInt(n)<<8n*BigInt(t),0n),o=0;for(;0n==(1n&n)&&0n!==n;)n>>=1n,o++;if(o>=s)return void self.postMessage({nonce:r.toString()});r++}});